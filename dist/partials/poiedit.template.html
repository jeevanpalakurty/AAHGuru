<div class="row"><div class="col-lg-6 row"><div class="col-lg-3"><h1> POI Edit</h1></div></div></div><tabset class="well well-md "><tab heading="Individual"><div class="container poitab"><div class="row"> <label for="dropdownCategory" class="col-sm-2 control-label">Select Category</label><div class="col-sm-5"> <select id="dpCategory" class="form-control input-sm" ng-model="ctrl.category" ng-options="cat.Name for cat in ctrl.categories" ng-change="ctrl.updateChildrenCategories()"><option value="">-- Choose Category--</option></select></div></div><div class="row top2-percent" ng-if="ctrl.childrenExist"> <label for="dropdownChildrenCategory" class="col-sm-2 control-label">Select Child Category</label><div class="col-sm-5"> <select id="dropdownChildrenCategory" class="form-control input-sm" ng-model="ctrl.childCategory" ng-options="cat.Name for cat in ctrl.childrenCategories" ng-change="ctrl.childCategorySelected()"><option value="">-- Choose Category--</option></select></div></div><div class="row top2-percent" ng-if="ctrl.category.CategoryId && (ctrl.childCategory.CategoryId ? ctrl.childCategory.CategoryId : true)"> <label for="searchByPhrase" class="col-sm-2 control-label">Please enter a search phrase</label><div class="col-sm-5"> <input type="text" id="searchByPhrase" class="form-control input-sm" ng-model="ctrl.searchByPhrase"></div></div><div class="row top2-percent" ng-if="ctrl.category.CategoryId && (ctrl.childCategory.CategoryId ? ctrl.childCategory.CategoryId : true)"> <label for="searchByPostcode" class="col-sm-2 control-label">Please enter a search postcode</label><div class="col-sm-5"> <input type="text" id="searchByPostcode" class="form-control input-sm" ng-model="ctrl.searchByPostcode"></div> <button type="submit" ng-click="ctrl.getPoisByCategory(ctrl.start())" class="btn btn-primary">Search</button></div><div class="row top2-percent" ng-if="ctrl.category.CategoryId && (ctrl.childCategory.CategoryId ? ctrl.childCategory.CategoryId : true)"> <button type="submit" ng-click="ctrl.resetSearch()" class="btn btn-danger">Reset search</button></div><div class="row top2-percent" ng-if="ctrl.poiExist()"><div> <button type="button" ng-disabled="!ctrl.enableAdd()" class="btn btn-success" ng-click="ctrl.addPOI()">Add a POI</button> <button class="btn btn-warning col-sm-offset-8" ng-click="ctrl.exportToExcel()">Export to Excel</button></div><br><div ui-view></div><div id="scrollableBlock" class="table-responsive" ng-hide="ctrl.editingPOI"><table infinite-scroll="ctrl.nextPage()" st-table="ctrl.pois" infinite-scroll-disabled='ctrl.busy' infinite-scroll-distance='2' class="table table-striped" infinite-scroll-container="'#scrollableBlock'"><thead><tr><th st-sort="Id">Id</th><th st-sort="Name">Name</th><th st-sort="Street">Street</th><th st-sort="Area">Area</th><th st-sort="Postcode">Postcode</th><th st-sort="LatUpdated">LatUpdated</th></tr><tr><th> <input st-search="Id" placeholder="search for Id" class="input-sm form-control" type="search"/></th><th colspan="1"> <input st-search="Name" placeholder="search for Name" class="input-sm form-control" type="search"/></th><th></th><th></th><th> <input st-search="Postcode" placeholder="search for postcode" class="input-sm form-control" type="search"/></th></tr></thead><tbody><tr ng-repeat="poi in ctrl.pois"><td><a ui-sref="poiedit.detail({id: {{poi.Id}}})">{{poi.Id}}</a></td><td>{{poi.Name}}</td><td>{{poi.Street}}</td><td>{{poi.Area}}</td><td>{{poi.Postcode}}</td><td>{{poi.LastUpdated | date:'medium'}}</td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"></td></tr></tfoot></table></div></div></div></tab><tab heading="Bulk"><div class="container poitab"><h3 class="text-primary">Bulk POI upload wizard</h3><br><br><form><h4> Welcome to Bulk POI upload wizard</h4><br><div class="row"> <label for="dropdownCategory" class="col-sm-4 control-label">Do you want to</label><div class="col-sm-5"> <select id="dropdownCategory" class="form-control input-sm" ng-model="selectedOperation" ng-init="selectedOperation='Add'" ng-change="ctrl.selectedOperation(selectedOperation)"><option value="Add"> Add</option><option value="Update"> Update</option><option value="Remove"> Remove</option></select></div></div></form><br><br><section><article class='row form-group animate-hide paddingLB' ng-show="selectedOperation"> <input type="file" class="row col-sm-4 text-primary" name="excel_file" accept=".xlsx" file-model="ctrl.file" required="true"> <button type='button' class="btn btn-warning" ng-disabled="!ctrl.file" ng-click='ctrl.upload()'>Upload</button></article><aside class="row"> <button type="button" class="btn btn-success" ng-if="ctrl.bulkFileUploadSuccess" ng-disabled="!ctrl.bulkFileUploadSuccess" ng-click="ctrl.validateOperation(selectedOperation)">{{ctrl.audButton}}</button></aside><br><br><article><hot-table id="exportTable" ng-if="ctrl.bulkFileUploadSuccess" row-headers="ctrl.rowHeaders" datarows="ctrl.data()" observe-changes><hot-column data="Id" title="'Id'"></hot-column><hot-column data="CategoryId" title="'CategoryId'"></hot-column><hot-column data="Name" title="'Name'" width="250"></hot-column><hot-column data="Street" title="'Street'"></hot-column><hot-column data="Area" title="'Town/City'"></hot-column><hot-column data="Postcode" title="'Postcode'" width="150"></hot-column><hot-column data="Longitude" title="'Longitude'"></hot-column><hot-column data="Latitude" title="'Latitude'"></hot-column><hot-column data="Telephone" title="'Phonenumber'" width="150"></hot-column></hot-table></article><br><br><footer></footer></section></div></tab></tabset>